<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipe Intel</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <!-- <meta name="viewport" content="user-scalable=no, initial-scale=1, width=device-width, viewport-fit=cover"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />

    <script src="cordova.js"></script>
    <script src="js/index.js"></script>
    <script src="js/total_clock.js"></script>
    <script src="js/changeIPAddress.js"></script>
    <script src="js/offline.js"></script>
    <!-- <script src="js/y_stock_data.js"></script> -->
    
    <script src="js/page_count.js"></script>
    
    <script src="js/highcharts/highcharts.js"></script>
    <script src="js/highcharts/data.js"></script>
    <script src="js/highcharts/export-data.js"></script>
    <script src="js/highcharts/accessibility.js"></script>
    <!-- <link href="css/style.bundle.css" rel="stylesheet" type="text/css" /> -->
    <link href="css/watchlist_setting.css" rel="stylesheet" type="text/css" />
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script> -->
    <script src="js/watchlist.js"></script>
    <script src="js/aboutpopup.js"></script>
    <link href="css/aboutpopup.css" rel="stylesheet" type="text/css" />
    <link href="plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="plugins/custom/prismjs/prismjs.bundle.css" rel="stylesheet" type="text/css" />
    <link href="css/style.bundle.css" rel="stylesheet" type="text/css" />
    <!-- <link href="css/style.bundle.css" rel="stylesheet" type="text/css" /> -->
    <script src="js/app_end.js"></script>
    <script src="js/header.js"></script>

    <script src="js/clock.js"></script>
    <!-- <script src="js/timer.js"></script> -->
	<script src="js/timer_reload.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>

<script src="js/navbar.js"></script>
<link rel="stylesheet" href="css/navbar.css">
<div id="nav-id"></div>

<body id="kt_body"
    class="header-fixed header-mobile-fixed subheader-enabled subheader-fixed aside-enabled aside-fixed aside-minimize-hoverable page-loading"
    style="background-color: #1C1C1E; padding-right: 0%; padding-left: 0%; height: 120%;">
    <!--begin::Main-->
    <div>
        <!--begin::Wrapper-->
        <!-- <div id="header-id"></div> -->
        <div id="kt_header">
            <div>
               <div class="row" style="width: 100%;">
                    <div class="float-left" style="width: 50%; padding-left: 3%;">
                        <a onclick="app_end(window.location.pathname)" class="text-light mt-2 mb-1 mr-5 ml-4" style="color: white; font-weight: bold; font-size: 25px;">Pipe Intel</a>
                    </div>
                    <div class="float-left" style="width: 50%; padding-right: 0%;">
                        <p onclick="window.open()" class="font-weight-bold power" style="text-align: right; color: #9bb556;">Powered by Tex-Isle Inc.</p>
                    </div>
                </div>
            </div>
            <hr style="border-top: 2px solid #7a7772; margin-top: 0px; margin-bottom: 0rem;">
        </div>

        <div style="margin: 0px 12px; color: white; --darkreader-inline-color:#e8e6e3;">
            <strong><span data-darkreader-inline-color=""
                    style="color: white; font-weight: bold; font-size: 25px; --darkreader-inline-color:#ff1a1a;">Watchlist</span></strong><img
                onclick="window.location='./landing_page.html'" src="./img/return.png" class="return-btn">
        </div>
        <hr style="border-top: 2px solid #7a7772; margin-top: 0px; margin-bottom: 0rem;">
        <!-- footer -->

        
        <div id="watchlistDiv" class="container"></div>
        
        <div onclick="window.location='./watchlist_settting.html';" class="setting">
            <!-- <img src="./img/folder-gear.png"> -->
            <i class="fas fa-folder-plus" style="font-size: 32px; justify-content: center; align-items: center; margin-left: 17%;"></i>
            <!-- <ion-icon size="large" name="settings" style="color:white;"></ion-icon> -->
            <!-- <ion-icon size="large" style="color:white; height: 27px; width: 27px;" name="options"></ion-icon> -->
        </div>

    </div>
    <br><br><br><br><br><br><br><br><br><br>
    <!--end::Page-->
    <!--end::Main-->
    <div class="footer py-4 d-flex flex-lg-column" id="kt_footer" style="background-color: #1C1C1E;">
        <!--begin::Container-->
        <div class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between"
            style="background-color: #1C1C1E;">
            <!--begin::Copyright-->
            <!-- <div class="text-dark order-2 order-md-1">
                <span class="text-muted font-weight-bold mr-2">2021Â©</span>
                <a href="https://www.texisle.com/" target="_blank" class="text-dark-75 text-hover-primary">Tex-Isle, Inc.</a>
            </div> -->
            <!--end::Copyright-->
            <!--begin::Nav-->
            <div class="nav_foot nav-dark">
                <a href="terms.html" class="nav-link pl-0 pr-5">Terms & Conditions</a>
                <a href="about_v2.html" class="nav-link pl-0 pr-5">About</a>
                <!-- <a href="https://www.texisle.com/" target="_blank" class="nav-link pl-0 pr-5">Team</a>
                <a href="https://www.texisle.com/contact-us" target="_blank" class="nav-link pl-0 pr-0">Contact</a> -->
            </div>
            <!--end::Nav-->
        </div>
        <!--end::Container-->
    </div>
    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" style="opacity: 0.6;">
        <span class="svg-icon">
            <!--begin::Svg Icon | path:assets/media/svg/icons/Navigation/Up-2.svg-->
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
                height="24px" viewBox="0 0 24 24" version="1.1">
                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <polygon points="0 0 24 0 24 24 0 24" />
                    <rect fill="#000000" opacity="0.3" x="11" y="10" width="2" height="10" rx="1" />
                    <path
                        d="M6.70710678,12.7071068 C6.31658249,13.0976311 5.68341751,13.0976311 5.29289322,12.7071068 C4.90236893,12.3165825 4.90236893,11.6834175 5.29289322,11.2928932 L11.2928932,5.29289322 C11.6714722,4.91431428 12.2810586,4.90106866 12.6757246,5.26284586 L18.6757246,10.7628459 C19.0828436,11.1360383 19.1103465,11.7686056 18.7371541,12.1757246 C18.3639617,12.5828436 17.7313944,12.6103465 17.3242754,12.2371541 L12.0300757,7.38413782 L6.70710678,12.7071068 Z"
                        fill="#000000" fill-rule="nonzero" />
                </g>
            </svg>
            <!--end::Svg Icon-->
        </span>
    </div>
    <!--end::Scrolltop-->
    <!--begin::Global Config(global config for global JS scripts)-->
    <script>var KTAppSettings = { "breakpoints": { "sm": 576, "md": 768, "lg": 992, "xl": 1200, "xxl": 1400 }, "colors": { "theme": { "base": { "white": "#ffffff", "primary": "#2c2c2c", "secondary": "#E5EAEE", "success": "#1BC5BD", "info": "#8950FC", "warning": "#FFA800", "danger": "#F64E60", "light": "#E4E6EF", "dark": "#181C32" }, "light": { "white": "#ffffff", "primary": "#E1F0FF", "secondary": "#EBEDF3", "success": "#C9F7F5", "info": "#EEE5FF", "warning": "#FFF4DE", "danger": "#FFE2E5", "light": "#F3F6F9", "dark": "#D6D6E0" }, "inverse": { "white": "#ffffff", "primary": "#ffffff", "secondary": "#3F4254", "success": "#ffffff", "info": "#ffffff", "warning": "#ffffff", "danger": "#ffffff", "light": "#464E5F", "dark": "#ffffff" } }, "gray": { "gray-100": "#F3F6F9", "gray-200": "#EBEDF3", "gray-300": "#E4E6EF", "gray-400": "#D1D3E0", "gray-500": "#B5B5C3", "gray-600": "#7E8299", "gray-700": "#5E6278", "gray-800": "#3F4254", "gray-900": "#181C32" } }, "font-family": "Poppins" };</script>
    <!--end::Global Config-->
    <!--begin::Global Theme Bundle(used by all pages)-->
    <script src="plugins/global/plugins.bundle.js"></script>
    <script src="plugins/custom/prismjs/prismjs.bundle.js"></script>
    <script src="js/scripts.bundle.js"></script>
    <script src="js/scripts.bundle.min.js"></script>
    <!--end::Global Theme Bundle-->
    <!--begin::Page Vendors(used by this page)-->
    <script src="plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
    <!--end::Page Vendors-->
    <!--begin::Page Scripts(used by this page)-->
    <script src="js/pages/widgets.js"></script>
    <!--end::Page Scripts-->
</body>
<script>
    load_config();

    function load_config() {
        var deviceID = sessionStorage.getItem("deviceID");
        if (deviceID==null){
        deviceID = device.uuid;
        sessionStorage.setItem("deviceID", deviceID);
        }
        var form = new FormData();
        form.append("app_type", app_type);
        form.append("deviceID", deviceID);

        var settings = {
            "url": urlresource + "/watchlist_config/",
            "method": "POST",
            "timeout": 0,
            "processData": false,
            "mimeType": "multipart/form-data",
            "dataType": 'JSON',
            "contentType": false,
            "data": form
        };

        $.ajax(settings).done(function (response) {
            // console.log(response);
            var config_list = response.chart_list;
            create_divs(config_list);
        });

    }
</script>
<script>
    function openLink(val){
        var ticker = ['SCRAP', 'HRC', 'COAL', 'IRONORE', 'RMI_index', 'RIO', 'VALE', 'SXC', 'BHP', 'IOM_index', 'TS', 'VKPA', 'X', 'TMST', 'NWPX', 'PMF_index', 'MT', 'PKX', 'NUE', 'STLD', 'RS', 'CLF', 'TX', 'GGB', 'CMC', 'TKADE', 'SZGDE', 'NIPPON', 'JFE', 'SMF_index', 'Baltic', 'ULSD', 'AllGrade', 'CassFreight', 'Truck', 'T_index', 'Ardmore', 'Arkoma', 'Barnett', 'Cana', 'Niobrara', 'Ford', 'Granite', 'Haynesville', 'Marcellus', 'Mississippian', 'Permian', 'Utica', 'Williston', 'RC_index', 'Anadarko_DUC', 'Appalachia_DUC', 'Bakken_DUC', 'Eagle_DUC', 'Haynesville_DUC', 'Niobrara_DUC', 'Permian_DUC', 'DPR_DUC' ]
        let index = ticker.indexOf(val);
        var tab_name = ['scrap_tab','hrc_tab','coal_tab','iron_tab','index_tab','rio_tab','vale_tab','sxc_tab','bhp_tab','index_tab','ts_tab','vkpa_tab','x_tab','tmst_tab','nwpx_tab','index_tab','mt_tab','pkx_tab','nue_tab','stld_tab','rs_tab','clf_tab','tx_tab','ggb_tab','cmc_tab','tkade_tab','szgde_tab','nippon_tab','jfe_tab','index_tab','baltic_tab','usld_tab','AllGrade_tab','CassFreight_tab','truck_tab','index_tab', 'ardmore_tab', 'arkoma_tab', 'barnett_tab', 'cana_tab', 'niobrara_tab', 'ford_tab', 'granite_tab', 'haynesville_tab', 'marcellus_tab', 'mississippian_tab', 'permian_tab', 'utica_tab', 'williston_tab', 'index_tab', 'Anadarko_tab', 'Appalachia_tab', 'Bakken_tab', 'Eagle_tab', 'Haynesville_tab', 'Niobrara_tab', 'Permian_tab', 'index_tab' ]
        tab = tab_name[index]
        app_tab_change();
        document.cookie = "tab="+tab+";";
        var str = "";
        if(index < 5)
            str = "./raw_material.html";
        if(index >=5 && index < 10)
            str = './iron_ore.html';
        if(index >=10 && index < 16)
            str = './pipe_manufacturing.html'; 
        if(index >=16 && index < 30)
            str = './steel_manufacturing.html'; 
        if(index >=30 && index < 36)
            str = './transportation.html'; 
        if(index >=36 && index < 49)
            str = './rig_count.html';
        if(index >=49)
            str = './well_count.html'; 
        // console.log(str)
        window.location = str;
    }
</script>
<script>
    function app_func_change(page, path){
        console.log("here")
        var path1 = path.split("/").pop();
        var current_page = path1.substring(0, path1.indexOf("."));
        var page_name = convert_page_name(current_page);
        console.log(page_name)

        var st_time = new Date(sessionStorage.getItem("start_time"));
        var deviceID = sessionStorage.getItem("deviceID");
                if (deviceID==null){
                deviceID = device.uuid;
                sessionStorage.setItem("deviceID", deviceID);
                }
        var  diff = ((new Date) - st_time)/1000;
        // console.log("diff ---> "+diff);
        console.log("app closed")
        s_id = sessionStorage.getItem("SessionName");

        if(s_id != null){
            var form = new FormData();
            form.append("session_id", sessionStorage.getItem("SessionName"));
            form.append("app_type", app_type);
            form.append("timer", sessionStorage.getItem("timer"));
            form.append("page", page_name); 
            form.append("deviceID", deviceID);

            var settings = {
                "url": urlresource + "/app_ended/",
                "method": "PUT",
                "timeout": 0,
                "processData": false,
                "mimeType": "multipart/form-data",
                "contentType": false,
                "data": form
            };

            $.ajax(settings).done(function (response) {
                console.log(response);
                window.location = "./"+page;
            });
        }
        else{
            window.location = "./"+page;
        }
    }
</script>

<script src="js/initial_data.js"></script>

<script src="js/feedback_popup.js"></script>
</html>